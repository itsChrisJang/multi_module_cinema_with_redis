CREATE DATABASE IF NOT EXISTS cinemadb;
USE cinemadb;

CREATE TABLE `SEAT` (
    `ID` BIGINT AUTO_INCREMENT NOT NULL COMMENT '좌석ID',
    `SCREEN_ID` BIGINT NOT NULL COMMENT '상영관 ID',
    `SEAT_ROW` VARCHAR(10) NOT NULL COMMENT '행',
    `SEAT_COLUMN` VARCHAR(10) NOT NULL COMMENT '열',
    `SEAT_STATUS` VARCHAR(20) NOT NULL COMMENT '좌석상태',
    `REG_DT` TIMESTAMP NOT NULL COMMENT '등록일',
    `REG_ID` VARCHAR(30) NOT NULL COMMENT '등록자',
    `UPD_DT` TIMESTAMP NOT NULL COMMENT '수정일',
    `UPD_ID` VARCHAR(30) NULL COMMENT '수정자',
     PRIMARY KEY (`ID`)
);

CREATE TABLE `SCREEN` (
    `ID` BIGINT AUTO_INCREMENT NOT NULL COMMENT '상영관 ID',
    `NAME` VARCHAR(100) NOT NULL COMMENT '상영관 명',
    `REG_DT` TIMESTAMP NOT NULL COMMENT '등록일',
    `REG_ID` VARCHAR(30) NOT NULL COMMENT '등록자',
    `UPD_DT` TIMESTAMP NOT NULL COMMENT '수정일',
    `UPD_ID` VARCHAR(30) NULL COMMENT '수정자',
     PRIMARY KEY (`ID`)
);

CREATE TABLE `SCHEDULE` (
    `ID` BIGINT AUTO_INCREMENT NOT NULL COMMENT '상영 스케줄 ID',
    `MOVIE_ID` BIGINT NULL COMMENT '영화ID',
    `SCREEN_ID` BIGINT NOT NULL COMMENT '상영관 ID',
    `START_DT` TIMESTAMP NULL COMMENT '시작시간',
    `END_DT` TIMESTAMP NULL COMMENT '종료시간',
    `REG_DT` TIMESTAMP NOT NULL COMMENT '등록일',
    `REG_ID` VARCHAR(30) NOT NULL COMMENT '등록자',
    `UPD_DT` TIMESTAMP NOT NULL COMMENT '수정일',
    `UPD_ID` VARCHAR(30) NULL COMMENT '수정자',
     PRIMARY KEY (`ID`)
);

CREATE TABLE `RESERVATION` (
    `ID` BIGINT AUTO_INCREMENT NOT NULL,
    `SCHEDULE_ID` BIGINT NOT NULL COMMENT '상영스케줄ID',
    `SEAT_ID` BIGINT NOT NULL COMMENT '좌석ID',
    `RESERVATION_STATE` VARCHAR(20) NOT NULL COMMENT '예매상태',
    `REG_DT` TIMESTAMP NOT NULL COMMENT '등록일',
    `REG_ID` VARCHAR(30) NOT NULL COMMENT '등록자',
    `UPD_DT` TIMESTAMP NOT NULL COMMENT '수정일',
    `UPD_ID` VARCHAR(30) NULL COMMENT '수정자',
     PRIMARY KEY (`ID`)
);

CREATE TABLE `MOVIE` (
    `ID` BIGINT AUTO_INCREMENT NOT NULL COMMENT '영화ID',
    `TITLE` VARCHAR(300) NOT NULL COMMENT '영화제목',
    `GENRE` VARCHAR(10) NOT NULL COMMENT '영화 장르',
    `RELEASE_DE` DATE NULL COMMENT '개봉일',
    `FILM_RATING` VARCHAR(10) NULL COMMENT '영상물등급',
    `THUMBNAIL_URL` VARCHAR(500) NULL COMMENT '썸네일URL',
    `RUNNING_TIME` INT NULL COMMENT '러닝타임',
    `REG_DT` TIMESTAMP NOT NULL COMMENT '등록일',
    `REG_ID` VARCHAR(30) NOT NULL COMMENT '등록자',
    `UPD_DT` TIMESTAMP NOT NULL COMMENT '수정일',
    `UPD_ID` VARCHAR(30) NULL COMMENT '수정자',
     PRIMARY KEY (`ID`)
);
